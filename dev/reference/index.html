<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>References · NTECARS Documentation</title><meta name="title" content="References · NTECARS Documentation"/><meta property="og:title" content="References · NTECARS Documentation"/><meta property="twitter:title" content="References · NTECARS Documentation"/><meta name="description" content="Documentation for NTECARS Documentation."/><meta property="og:description" content="Documentation for NTECARS Documentation."/><meta property="twitter:description" content="Documentation for NTECARS Documentation."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">NTECARS Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Tutorial</span><ul><li><a class="tocitem" href="../Setup_for_spectra/">Setup for Spectra Calculation</a></li><li><a class="tocitem" href="../fitting/">Fitting</a></li></ul></li><li class="is-active"><a class="tocitem" href>References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>References</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>References</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ChristianABusch/NTECARS" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ChristianABusch/NTECARS/blob/main/docs/src/reference.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><ul><li><a href="#Reference">Reference</a></li></ul><article><details class="docstring" open="true"><summary id="NTECARS.CARSSimulator"><a class="docstring-binding" href="#NTECARS.CARSSimulator"><code>NTECARS.CARSSimulator</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CARSSimulator(; species, conditions, lasers, instrument, grid_type, vertical_shift)</code></pre><p>struct that contains all information for the calculation of a CARS spectrum.</p><p><strong>Arguments</strong></p><ul><li><code>species::Vector{T} where {T&lt;:CARSSpecies}</code>: Array of <code>CARSSpecies</code> such as <code>CO2Species</code> or <code>N2Species</code></li><li><code>conditions::GasConditions</code>: bulk gas parameters used for calculating linewidths</li><li><code>lasers::LaserConfiguration</code>: information on laser wavelengths and profiles</li><li><code>instrument::InstrumentConfiguration</code>: inforamtino on instrumental broadening profile</li><li><code>grid_type ::Symbol</code>: Can be <code>:adaptive</code> or <code>:uniform</code>. the resolutions are automatically  determined from the linewidths of the given <code>CARSSpecies</code> at the temperature and pressure given in <code>GasConditions</code></li><li><code>vertical_shift::Float64</code> A vertical offset that is added to the spectrum at the end.  The spectra are normalized to the maximum so ∈ [0,1]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/types/CARSSimulator.jl#L1-L15">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.GasConditions"><a class="docstring-binding" href="#NTECARS.GasConditions"><code>NTECARS.GasConditions</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">GasConditions(;pressure::AbstractFloat, T_gas::AbstractFloat)</code></pre><p>Contains the basis information of the pressure in Pa and translational temperature in K.</p><p>The pressure and translational temperature are used for calculating linewidths. When fitting, it should be remembered to update <code>T_gas</code> accordingly.</p><p><strong>Examples</strong></p><pre><code class="language-Julia hljs">conditions = GasConditions(
    pressure = 15000.0,
    T_gas    = 600.0   
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/types/GasConditions.jl#L1-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.InstrumentConfiguration"><a class="docstring-binding" href="#NTECARS.InstrumentConfiguration"><code>NTECARS.InstrumentConfiguration</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">InstrumentConfiguration(;profile::Union{DeltaProfile,Spectrum} = DeltaProfile())</code></pre><p>Contains information about the broadening profile introduced by physical measurement devices (spectrometer). </p><p>When no instrumental broadening is present, it should contain the default <code>DeltaProfile()</code>. Otherwise, <code>profile</code> can be given profiles created by existing functions such as <code>Gaussian(σ)</code>, <code>Voigt(σ, γ)</code> or  <code>PowerVoigt(σ, γ, n)</code>. Alternatively, a <code>Spectrum</code> containing a discrete spectrum can be used.  The profiles should be centered around 0 but do not have to be symmetric.</p><p><strong>Examples</strong></p><pre><code class="language-Julia hljs">InstrumentConfiguration(profile = Gaussian(0.2/2.35))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/types/InstrumentConfiguration.jl#L1-L15">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.LaserConfiguration"><a class="docstring-binding" href="#NTECARS.LaserConfiguration"><code>NTECARS.LaserConfiguration</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">LaserConfiguration(; wavelength_1, wavelength_2, stokes_range,
                     profile_1=DeltaProfile(),
                     profile_2=DeltaProfile(),
                     stokes_profile=FlatProfile())</code></pre><p>Stores the laser wavelengths and spectral profiles.</p><p><strong>Arguments</strong></p><ul><li><code>wavelength_1::Float64</code>: Central wavelength of the first laser (in meters).</li><li><code>wavelength_2::Float64</code>: Central wavelength of the second laser (in meters).</li><li><code>stokes_range::Tuple{Float64,Float64}</code>: Wavelength range over which the Stokes spectrum is defined (in meters). This determines the range of anti-Stokes  frequencies together with the central wavelengths.</li><li><code>profile_1::Union{DeltaProfile, Spectrum}</code>: Spectral profile of the first laser.</li><li><code>profile_2::Union{DeltaProfile, Spectrum}</code>: Spectral profile of the second laser.</li><li><code>stokes_profile::Spectrum</code>: Stokes spectral profile. The Stokes-spectrum has to be defined at the correct physical spectral range (not around 0!). A <code>FlatProfile</code> should be used if  the experimental data is already normalized by the stokes-proflie/non-resonant background.</li></ul><p><strong>Notes</strong></p><ul><li><code>Spectrum</code> can be created from user data or Gaussian(σ), Voigt(σ, γ), PowerVoigt(σ, γ, n)</li><li>Internally, wavelengths are converted to wavenumbers.</li><li>The anti-Stokes limits are computed as <code>extrema(ν₁ + ν₂ − stokes_range)</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language-Julia hljs">lasers = LaserConfiguration(
    wavelength_1    = 532e-9,
    wavelength_2    = 561e-9,
    stokes_range    = (600e-9, 610e-9),
    profile_1       = Gaussian(0.2), # inputs are σ in cm^-1
    profile_2       = Voigt(0.1, 0.05), # inputs are σ, γ  in cm^-1
    stokes_profile  = Spectrum([600e-9, 605e-9, 610e-0], [0.0, 1.0, 0.0], :wavelength)
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/types/LaserConfiguration.jl#L6-L42">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.Spectrum"><a class="docstring-binding" href="#NTECARS.Spectrum"><code>NTECARS.Spectrum</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Spectrum(x::Vector{N}, I::Vector{T}, unit::Symbol) where {N,T}</code></pre><p>create a <code>Spectrum</code> from spectral positions <code>x</code> with intensitiy <code>I</code>.</p><p><strong>Arguments</strong></p><ul><li><code>x::Vector{N}</code>: spectral positions at which the intensities are given. The units of <code>x</code> have to be specified by <code>unit=:wavelength</code> (meter) or <code>unit=:wavenumber</code> (cm^-1) to allow for spectra to be created from both.</li><li><code>I::Vector{T}</code>: intensities as spectral positions <code>x</code>.</li><li><code>unit::Symbol</code>: Can be <code>wavelength</code> or <code>wavenumber</code>. Specifies the units of <code>x</code></li></ul><p><strong>Notes</strong></p><ul><li>Internally, the spectral positions are stored in wavenumber sorted from lowest to highest values.</li></ul><p><strong>Example</strong></p><pre><code class="language-Julia hljs">Spectrum([404e-9, 405e-9, 406e-9], [0.0, 1.0, 0.0], :wavelength)
Spectrum([20000, 21000], [0.5, 1.0], :wavenumber)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/types/Spectrum.jl#L4-L23">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.average_to_detector_pixels-Tuple{Spectrum, Any}"><a class="docstring-binding" href="#NTECARS.average_to_detector_pixels-Tuple{Spectrum, Any}"><code>NTECARS.average_to_detector_pixels</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Bins a finely resolved spectrum defined at wavelengths ν with intensity I to the wavelengths ν_pixel</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/Broadening/resolution_change.jl#L1-L3">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.fit_spectrum-Tuple{}"><a class="docstring-binding" href="#NTECARS.fit_spectrum-Tuple{}"><code>NTECARS.fit_spectrum</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">fit_spectrum(; spec_exp, sim, parameter_update_function!, initial, lower, upper, 
    intensity_eval_function = x -&gt; abs.(x ./ maximum(x)).^(1/2) , parameter_scaling_factor = initial)</code></pre><p>Fits the the model to a measured spectrum.</p><p><strong>Arguments</strong></p><ul><li><code>spec_exp::Spectrum</code>: The measured spectrum that should be fitted</li><li><code>sim::CARSSimulator</code>: Should contain all required inputs such as linewidths</li><li><code>parameter_update_function!::Function</code>: A function with the signature <code>f(sim::CARSSimulator, param)</code> that take a <code>param</code> array of length <code>N</code> and updates <code>sim</code> using these parameters.</li><li><code>initial::Vector{Float64}</code>: Initial values of the fit parameters. Has to be of length <code>N</code>.</li><li><code>lower::Vector{Float64}</code>: Lower boundary of the fit parameters. Has to be of length <code>N</code>.</li><li><code>upper::Vector{Float64}</code>: upper boundary of the fit parameters. Has to be of length <code>N</code>.</li><li><code>intensity_eval_function::Function = x -&gt; abs.(x ./ maximum(x)).^(1/2),</code> a function that is applied to  both the simulated and experimental spectrum before calculating the residuals. The default represents a fitting of the normalized sqaure-root of the CARS-intensity.</li></ul><p><strong>return</strong></p><ul><li><code>FitResult</code>: contains parameters, spectra, uncertainties etc...</li></ul><p><strong>Example</strong></p><p>Which parameters are fitted toegther is determined by the <code>parameter_update_function!</code>.</p><p>For a <code>sim::CARSSimulator</code> that contains the species <code>N2Species</code> as the first element in <code>sim.species</code>,  the rotational and vibrational temperature can for example be fitted by defining the update function </p><pre><code class="language-Julia hljs">function update_function!(sim::CARSSimulator, param)
    T_vib, T_rot = param
    sim.conditions.T_gas = T_rot
    sim.species[1].distribution = N2.MultiTemperatureDistribution(
        T_vib = T_N2vib, T_rot = T_rot)
end

result = fit_spectrum(;
    spec_exp     = experimental_spectrum,
    sim          = sim,
    initial      = [500.0, 500.0],
    lower        = [0.0, 0.0],
    upper        = [3000.0, 3000.0],
    parameter_update_function! = update_function!
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/fitting/spectrum_fit.jl#L16-L59">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.intervals_around_points-Union{Tuple{T}, Tuple{Vector{T}, T}} where T&lt;:Number"><a class="docstring-binding" href="#NTECARS.intervals_around_points-Union{Tuple{T}, Tuple{Vector{T}, T}} where T&lt;:Number"><code>NTECARS.intervals_around_points</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">creates an array of intervals that consist of (start_point, end_point) for all points
in the positions array array with a width of window_width. Overlapping intervals ar merged</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/types/Grids.jl#L81-L84">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.parameters_that_modify_distributions-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#NTECARS.parameters_that_modify_distributions-Tuple{Any, Any, Any}"><code>NTECARS.parameters_that_modify_distributions</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">parameters_that_modify_distributions(sim_, parameter_update_function!, parameters)</code></pre><p>Find out which parameters modify the distrution function of CO2 or N2 This is needed the know which paraeters can be extended with uncertainties via Measurements.jl since this is only supported for the distribution functions right now.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/fitting/serialization/identify_parameters_modifying_distributions.jl#L1-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.raman_shifts-Tuple{}"><a class="docstring-binding" href="#NTECARS.raman_shifts-Tuple{}"><code>NTECARS.raman_shifts</code></a> — <span class="docstring-category">Method</span></summary><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/simulate_spectrum.jl#L26-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.resample_to_resolution-Tuple{Spectrum, Any}"><a class="docstring-binding" href="#NTECARS.resample_to_resolution-Tuple{Spectrum, Any}"><code>NTECARS.resample_to_resolution</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Samples the given spectrum at a given resolution via interpolation. Used for convolutions with
the instrumental broadening profile.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/Broadening/resolution_change.jl#L18-L21">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.rovibrational_populations_database-Tuple{CO2Species}"><a class="docstring-binding" href="#NTECARS.rovibrational_populations_database-Tuple{CO2Species}"><code>NTECARS.rovibrational_populations_database</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Generate vibrational and rovibrational populations for a distribution function. If any parameter has
an uncertainty using measurements.jl, then the results will have the corresponding uncertainties</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/Species/interfaces/CO2_interface.jl#L70-L73">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.rovibrational_populations_database-Tuple{N2Species}"><a class="docstring-binding" href="#NTECARS.rovibrational_populations_database-Tuple{N2Species}"><code>NTECARS.rovibrational_populations_database</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Generate vibrational and rovibrational populations for a distribution function. If any parameter has
an uncertainty using measurements.jl, then the results will have the corresponding uncertainties</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/Species/interfaces/N2_interface.jl#L69-L72">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.sampling_points_from_intervals-NTuple{4, Any}"><a class="docstring-binding" href="#NTECARS.sampling_points_from_intervals-NTuple{4, Any}"><code>NTECARS.sampling_points_from_intervals</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">creates an array of sampling points in the range specified by &quot;limits&quot;.
In the specified intervals, the points are sampled with the fine resolution
Δx_fine and inbetween them with Δx_coarse</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/types/Grids.jl#L105-L109">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NTECARS.total_susceptibility-Tuple{CARSSimulator}"><a class="docstring-binding" href="#NTECARS.total_susceptibility-Tuple{CARSSimulator}"><code>NTECARS.total_susceptibility</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">total_susceptibility(sim::CARSSimulator)</code></pre><p>test2</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ChristianABusch/NTECARS/blob/4d5bb5fa91d8aa3ee4a53d3618ff4067b2ba3163/src/core/susceptibility.jl#L1-L5">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../fitting/">« Fitting</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Wednesday 28 January 2026 22:27">Wednesday 28 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
